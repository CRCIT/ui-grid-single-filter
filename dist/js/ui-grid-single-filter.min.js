/*!
 * ui-grid-single-filter
 * https://github.com/CRCIT/ui-grid-single-filter
 * @license Apache-2.0
 * v0.5.0
 * 2017-01-14T11:58:19.627Z
 */
(function(){"use strict";angular.module("ui.grid.single.filter",["ui.grid","ui.grid.utils","txx.diacritics"])})(),function(){"use strict";angular.module("ui.grid.single.filter").directive("uiGridSingleFilter",["uiGridSingleFilterService","uiGridFilterValueService",function(e,i){return{restrict:"A",replace:!0,priority:10,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(r,l,n,t){t.grid.registerRowsProcessor(e.singleFilter,200),i.grid=t.grid}}}}}])}(),function(){"use strict";angular.module("ui.grid.single.filter").directive("uiGridSingleFilterValue",["uiGridFilterValueService",function(e){return{restrict:"A",scope:!1,link:function(i,r,l){e.filterValue=null,r.bind("keyup",function(i){e.filterValue=l.$$element.val(),e.grid.refresh(),i.preventDefault()})}}}])}(),function(){"use strict";angular.module("ui.grid.single.filter").factory("uiGridFilterValueService",function(){var e=null,i=null;return{filterValue:e,grid:i}})}(),function(){"use strict";angular.module("ui.grid.single.filter").service("uiGridSingleFilterService",["$log","uiGridFilterValueService","uiGridRenderService","uiGridCommonUtilsService","removeDiacritics",function(e,i,r,l,n){function t(e,t){function c(e){function i(e){e=l.removeHtmlTags(e),u.push(e)}var n,t,u=[];return e.grid.columns&&e.grid.columns.forEach(function(l,u){n=null,l.colDef&&l.colDef.singleFilterSearchable===!1||(n=l.colDef&&l.colDef.singleFilterValue?r.getRenderStringValue(e,l,l.colDef.singleFilterValue):l.colDef&&l.colDef.singleFilterRenderCellTemplate===!0?r.getRenderedCellValue(e,l):e.grid.getCellDisplayValue(e,l),i(n),l.colDef&&l.colDef.singleFilterAdditionalValue&&(t=r.getRenderStringValue(e,l,l.colDef.singleFilterAdditionalValue),i(t)))}),n=null,t=null,u.join("  ")}function a(e,i){function r(e){var i=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g");return e.replace(i,"\\$1")}e=r(e);var l=$.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var i=e.match(/^"(.*)"$/);e=i?i[1]:e}return e.replace('"',"")});return e="^(?=.*?"+l.join(")(?=.*?")+").*$",new RegExp(e,i?"i":"")}var o=angular.extend({},u,t);if(!i.filterValue)return e;var s=i.filterValue;s=o.removeDiacritics?n.replace(s):s;var g,f=a(s,o.caseInsensitive);return e.forEach(function(e){g=e.singleFilterRowFilterData,g||(g=c(e),g=o.removeDiacritics?n.replace(g):g,e.singleFilterRowFilterData=g);var i=g.match(f);i||(e.visible=!1)}),g=null,e}var u={caseInsensitive:!0,removeDiacritics:!0};return{singleFilter:t}}])}();
//# sourceMappingURL=ui-grid-single-filter.min.js.map
